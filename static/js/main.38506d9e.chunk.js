(this["webpackJsonpsquiggles-no-1"]=this["webpackJsonpsquiggles-no-1"]||[]).push([[0],{15:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),s=a(9),o=a.n(s),r=(a(15),a(2));window.p5=r;a(20);var d=a(10),u=a(0);function c(){return Object(u.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(u.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(u.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var l=a.p+"static/media/squiggles-no-1.9c7986af.ogg",h=a.p+"static/media/squiggles-no-1.c748b0b1.mid";var g=()=>{const e=Object(i.useRef)(),t=e=>{e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.loadMidi=()=>{d.Midi.fromUrl(h).then((function(t){console.log(t);const a=t.tracks[8].notes;e.scheduleCueSet(a,"executeCueSet1"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=()=>{e.song=e.loadSound(l,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,a){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1,s=1;for(let o=0;o<t.length;o++){const r=t[o],{ticks:d,time:u}=r;(d!==n||i)&&(r.currentCue=s,e.song.addCue(u,e[a],r),n=d,s++)}},e.radius=40,e.altitude=Math.sqrt(3)/2*e.radius,e.hexagons=[],e.hexagonPattern=null,e.rotations=[],e.colourScheme=[],e.setup=()=>{e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.generateColourScheme(),e.resetArcs()},e.draw=()=>{e.background(e.colourScheme.bg),e.hexagons.forEach(((t,a)=>{t.rotation+=.09*(e.rotations[a]-t.rotation),e.push(),e.translate(t.x+e.radius,t.y+e.radius),e.rotate(t.rotation),e.translate(-(t.x+e.radius),-(t.y+e.radius)),e.image(e.hexagonPattern,t.x,t.y),e.pop()})),e.audioLoaded&&e.song.isPlaying()},e.resetArcs=()=>{e.radius=e.random(e.width/24,e.width/96),e.altitude=Math.sqrt(3)/2*e.radius,e.hexagons=[],e.hexagonPattern=null,e.rotations=[];let t=e.createGraphics(2*e.radius,2*e.radius);t.beginShape();for(let i=0;i<e.TWO_PI;i+=e.TWO_PI/6){let a=e.sin(i)*e.radius+e.radius,n=e.cos(i)*e.radius+e.radius;t.vertex(a,n)}t.endShape();let a=e.createGraphics(2*e.radius,2*e.radius);a.noFill(),a.strokeWeight(e.radius/2),a.stroke(e.colourScheme.innerStroke),a.ellipse(e.radius-e.altitude,e.radius-e.radius/2,e.radius,e.radius),a.ellipse(e.radius+2*e.altitude,e.radius,3*e.radius,3*e.radius),a.ellipse(e.radius+e.altitude,e.radius+1.5*e.radius,3*e.radius,3*e.radius),a.strokeWeight(e.radius/4),a.stroke(e.colourScheme.outerStroke),a.ellipse(e.radius-e.altitude,e.radius-e.radius/2,e.radius,e.radius),a.ellipse(e.radius+2*e.altitude,e.radius,3*e.radius,3*e.radius),a.ellipse(e.radius+e.altitude,e.radius+1.5*e.radius,3*e.radius,3*e.radius),e.hexagonPattern=e.createGraphics(2*e.radius,2*e.radius),e.hexagonPattern.image(t,0,0),e.hexagonPattern.drawingContext.globalCompositeOperation="source-in",e.hexagonPattern.image(a,0,0);for(let i=-e.radius;i<e.width;i+=2*e.altitude){let t=0;for(let a=-e.radius;a<e.height;a+=1.5*e.radius)e.hexagons.push({x:i+(t%2===0?0:e.altitude),y:a,rotation:0}),e.rotations.push(e.TWO_PI/6*e.floor(e.random(6))),t++}},e.generateColourScheme=()=>{const t=a(31)({luminosity:Math.random()<.2?"bright":"light",format:"rgb",count:3});e.colourScheme={innerStroke:t[0],outerStroke:t[1],bg:Math.random()<.2?t[2]:"#ffffff"}},e.executeCueSet1=t=>{let{currentCue:a}=t;if(a%42===1&&e.generateColourScheme(),a%42>=29&&a%42<=42||a%42===0||a>210)e.generateColourScheme(),e.resetArcs();else{const t=e.radius<=e.width/48?6:2;for(let a=0;a<t;a++){const t=e.random(0,e.width),a=e.random(0,e.height);let i=0,n=9999;e.hexagons.forEach(((s,o)=>{let r=e.dist(t,a,s.x+e.radius,s.y+e.radius);r<n&&(n=r,i=o)})),e.rotations[i]+=e.TWO_PI/6}}},e.hasStarted=!1,e.mousePressed=()=>{e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.reset(),"undefined"!==typeof window.dataLayer&&window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play(),"undefined"===typeof window.dataLayer||e.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),e.hasStarted=!1)))},e.creditsLogged=!1,e.logCredits=()=>{!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=()=>{},e.updateCanvasDimensions=()=>{e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(i.useEffect)((()=>{new r(t,e.current)}),[]),Object(u.jsx)("div",{ref:e,children:Object(u.jsx)(c,{})})};var p=function(){return Object(u.jsx)(g,{})};o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.38506d9e.chunk.js.map